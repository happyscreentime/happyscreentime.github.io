import{j as e,B as S,L as j,a as n,J as A,K as f,E as m,H as C,M as N,P as b}from"./index-DaR3vLKq.js";import{T as F}from"./index-DuDqz5G_.js";import{h as l}from"./index-9ePNOxhA.js";import"./index-CiGmzMDG.js";const P="_scoreAwardImg_n1acv_1",T={scoreAwardImg:P},E=[{id:"Topic",align:"left",label:"Topic",component:({row:t})=>{var a,s;return e.jsxs(e.Fragment,{children:[t.learing?e.jsx(S,{isInvert:!0,component:j,to:(a=t.learing)==null?void 0:a.to,children:(s=t.learing)==null?void 0:s.text}):"-",e.jsx("p",{children:l(t.createdAt).format("DD-MMM-YYYY [at] hh:mm a")})]})}},{id:"score",align:"center",label:"Score",component:({row:t})=>{var a,s,r;return e.jsxs(e.Fragment,{children:[t.startsAt&&t.endsAt&&e.jsxs(e.Fragment,{children:[l(t.endsAt).diff(l(t.startsAt),"seconds")," ","seconds"]}),e.jsxs(e.Fragment,{children:[" (",t.currectAnswersCount,"/",t.totalQuestionsCount,") "]}),t.award&&e.jsxs("div",{children:[e.jsx("img",{className:T.scoreAwardImg,src:(a=t.award)==null?void 0:a.img,alt:(s=t.award)==null?void 0:s.text}),e.jsx("p",{children:(r=t.award)==null?void 0:r.text})]})]})}}],L=()=>{const[t,a]=n.useState([]),[s,r]=n.useState(),[g,o]=n.useState(),[p,u]=n.useState(),[i,h]=n.useState({pageNumber:0,pageSize:10});n.useEffect(()=>{g!=="LOADING"&&(o("LOADING"),A.fetchUserLearnings({isShowLoader:!1,data:{options:{pageNumber:i.pageNumber,pageSize:i.pageSize}}}).then(({data:c,isFinished:d}={})=>{typeof s=="number"&&r(s),u(d),a(f.uniqBy([...t,...c],"_id")),o("SUCCESS")},()=>{o("ERROR")}))},[i.pageSize,i.pageNumber]);const x=({pageNumber:c,pageSize:d})=>{h({pageNumber:c,pageSize:d})};return e.jsx(F,{isUseShowMore:!0,isHidePagination:p,isLoading:g==="LOADING",data:t,columns:E,rowsPerPage:i.pageSize,isServerSide:!0,onPaginationChange:x})},z=()=>{const t=m(C),s=m(N).userLearningsInfo;return e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Score"}),e.jsx(b,{title:"Score"}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Total right answers:"," ",s==null?void 0:s.currectAnswersCount]}),e.jsxs("p",{children:["Total questions attempted:"," ",s==null?void 0:s.totalQuestionsCount]}),e.jsxs("p",{children:["Total Learning: ",s==null?void 0:s.learningsCount]})]}),e.jsx(L,{},t==null?void 0:t._id)]})};export{z as default};
