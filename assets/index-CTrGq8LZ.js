import{U as f,a,j as e,V as b,W as h,y,C as R,B as d,L as S,P as j}from"./index-CEFEth8S.js";import{F as _}from"./index-C-aX3NdJ.js";import"./index-DVC0o36V.js";const q="_signupForm_dx4zz_1",F="_buttonsRow_dx4zz_10",P="_loginButtonsWrapper_dx4zz_13",z="_feedbackMessage_dx4zz_16",r={signupForm:q,buttonsRow:F,loginButtonsWrapper:P,feedbackMessage:z};function B(){const c=f(),[p,n]=a.useState(""),[m,o]=a.useState(""),[i,u]=a.useState(""),g={name:"",email:"",password:"",confirmPassword:""},l=s=>{if(s.password!==s.confirmPassword){u("Password and Confirm password should match"),o(Date.now());return}if(p==="LOADING")return;n("LOADING");const w=t=>{u((t==null?void 0:t.message)||"Failed to  create account please try again"),o(Date.now()),n("ERROR")};h.signupUser({data:s}).then(t=>{y({message:"Your account created successfully. Please login"}),c.push("/login")},w)},x=[{name:"name",type:"text",label:"Name",rules:{required:"Required"}},{name:"email",type:"text",label:"Email",rules:{required:"Required",pattern:{value:/\S+@\S+\.\S+/,message:"Enter a valid email"}}},{name:"password",type:"password",label:"Password",rules:{required:"Required"}},{name:"confirmPassword",type:"password",label:"Confirm Password",rules:{required:"Required"}},{type:"render",key:"buttons-wrapper",formFieldClass:r.buttonsRow,render:({handleSubmit:s})=>e.jsxs(R,{className:r.loginButtonsWrapper,children:[e.jsx(d,{type:"submit",onClick:s(l),children:"Signup"}),e.jsx("p",{className:"text-center",children:"Or"}),e.jsx(d,{component:S,to:"/login",variant:"text",children:"Login"})]})}];return e.jsxs("div",{className:r.signupForm,children:[i&&e.jsx(b,{className:r.feedbackMessage,type:"error",children:i},m),e.jsx(_,{items:x,defaultValues:g,onSubmit:l})]})}const M=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Signup"}),e.jsx(j,{title:"Signup"}),e.jsx(B,{})]});export{M as default};
