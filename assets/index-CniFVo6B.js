import{j as t,B as S,L as x,a as n,J as j,K as f,E as A,H as L,P as N}from"./index-DYIDzHbF.js";import{T as b}from"./index-C8r9d9MF.js";import{h as g}from"./index-DB0I_cHs.js";import"./index-CbUZ7P7w.js";const I="_scoreAwardImg_n1acv_1",P={scoreAwardImg:I},E=[{id:"Topic",align:"left",label:"Topic",component:({row:e})=>{var a,s;return t.jsxs(t.Fragment,{children:[e.learing?t.jsx(S,{variant:"text",component:x,to:(a=e.learing)==null?void 0:a.to,children:(s=e.learing)==null?void 0:s.text}):"-",t.jsx("p",{children:g(e.createdAt).format("DD-MMM-YYYY [at] hh:mm a")})]})}},{id:"score",align:"center",label:"Score",component:({row:e})=>{var a,s,r;return t.jsxs(t.Fragment,{children:[e.startsAt&&e.endsAt&&t.jsxs(t.Fragment,{children:[g(e.endsAt).diff(g(e.startsAt),"seconds")," ","seconds"]}),t.jsxs(t.Fragment,{children:[" (",e.currectAnswersCount,"/",e.totalQuestionsCount,") "]}),e.award&&t.jsxs("div",{children:[t.jsx("img",{className:P.scoreAwardImg,src:(a=e.award)==null?void 0:a.img,alt:(s=e.award)==null?void 0:s.text}),t.jsx("p",{children:(r=e.award)==null?void 0:r.text})]})]})}}],F=()=>{const[e,a]=n.useState([]),[s,r]=n.useState(),[l,o]=n.useState(),[m,u]=n.useState(),[i,p]=n.useState({pageNumber:0,pageSize:10});n.useEffect(()=>{l!=="LOADING"&&(o("LOADING"),j.fetchUserLearnings({isShowLoader:!1,data:{options:{pageNumber:i.pageNumber,pageSize:i.pageSize}}}).then(({data:c,isFinished:d}={})=>{typeof s=="number"&&r(s),u(d),a(f.uniqBy([...e,...c],"_id")),o("SUCCESS")},()=>{o("ERROR")}))},[i.pageSize,i.pageNumber]);const h=({pageNumber:c,pageSize:d})=>{p({pageNumber:c,pageSize:d})};return t.jsx(b,{isUseShowMore:!0,isHidePagination:m,isLoading:l==="LOADING",data:e,columns:E,rowsPerPage:i.pageSize,isServerSide:!0,onPaginationChange:h})},z=()=>{const e=A(L);return t.jsxs("div",{children:[t.jsx("h1",{className:"page-title",children:"Score"}),t.jsx(N,{title:"Score"}),t.jsx(F,{},e==null?void 0:e._id)]})};export{z as default};
