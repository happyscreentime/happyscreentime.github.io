import{j as e,a as s,x as f,P as b}from"./index-CsE2aM2s.js";import{T as L}from"./index-DlabwRit.js";import{f as F}from"./feedback-service-BB6bgWnO.js";import"./index-B5J_VVEO.js";import"./index-TUzsn6Sk.js";import"./index-CrYZDKqE.js";const N=[{id:"name",align:"left",label:"Name",component:({row:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.name}),e.jsx("p",{children:t.email})]})},{id:"subject",align:"left",label:"Subject",width:"70%",component:({row:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.subject}),e.jsx("p",{children:t.description})]})}],D=()=>{const[t,l]=s.useState([]),[d,u]=s.useState(null),[p,m]=s.useState(),[a,i]=s.useState(),[g,S]=s.useState(),[n,h]=s.useState({pageNumber:0,pageSize:10});s.useEffect(()=>{a!=="LOADING"&&(i("LOADING"),F.getList({isShowLoader:!1,data:{options:{startAtDoc:d,pageSize:n.pageSize}}}).then(({data:o,lastDoc:r,total:c,isFinished:j})=>{typeof c=="number"&&m(c),S(j),l(f.uniqBy([...t,...o],"id")),u(r),i("SUCCESS")},()=>{i("ERROR")}))},[n.pageSize,n.pageNumber]);const x=({pageNumber:o,pageSize:r})=>{h({pageNumber:o,pageSize:r})};return console.log("requestStatus....",a),e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Feedback List"}),e.jsx(b,{title:"Feedback List"}),e.jsx(L,{isUseShowMore:!0,isHidePagination:g,isLoading:a==="LOADING",data:t,columns:N,isServerSide:!0,totalCount:p,onPaginationChange:x})]})};export{D as default};
