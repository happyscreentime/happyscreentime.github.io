import{j as t,v as S,L as h,a as n,J as x,K as j,E as f,H as A,P as L}from"./index-BB4V2Wpf.js";import{T as N}from"./index-DMHn-mDx.js";import{h as b}from"./index-Du-9Bc14.js";import"./index-Crqszr12.js";const I="_scoreAwardImg_n1acv_1",P={scoreAwardImg:I},v=[{id:"Topic",align:"left",label:"Topic",component:({row:e})=>{var s,a;return t.jsxs(t.Fragment,{children:[e.learing?t.jsx(S,{variant:"text",component:h,to:(s=e.learing)==null?void 0:s.to,children:(a=e.learing)==null?void 0:a.text}):"-",t.jsx("p",{children:b(e.createdAt).format("DD-MMM-YYYY [at] hh:mm a")})]})}},{id:"score",align:"center",label:"Score",component:({row:e})=>{var s,a,r;return t.jsxs(t.Fragment,{children:[e.currectAnswersCount,"/",e.totalQuestionsCount,e.award&&t.jsxs("div",{children:[t.jsx("img",{className:P.scoreAwardImg,src:(s=e.award)==null?void 0:s.img,alt:(a=e.award)==null?void 0:a.text}),t.jsx("p",{children:(r=e.award)==null?void 0:r.text})]})]})}}],E=()=>{const[e,s]=n.useState([]),[a,r]=n.useState(),[g,o]=n.useState(),[l,u]=n.useState(),[i,m]=n.useState({pageNumber:0,pageSize:10});n.useEffect(()=>{g!=="LOADING"&&(o("LOADING"),x.fetchUserLearnings({isShowLoader:!1,data:{options:{pageNumber:i.pageNumber,pageSize:i.pageSize}}}).then(({data:c,isFinished:d}={})=>{typeof a=="number"&&r(a),u(d),s(j.uniqBy([...e,...c],"_id")),o("SUCCESS")},()=>{o("ERROR")}))},[i.pageSize,i.pageNumber]);const p=({pageNumber:c,pageSize:d})=>{m({pageNumber:c,pageSize:d})};return t.jsx(N,{isUseShowMore:!0,isHidePagination:l,isLoading:g==="LOADING",data:e,columns:v,rowsPerPage:i.pageSize,isServerSide:!0,onPaginationChange:p})},F=()=>{const e=f(A);return t.jsxs("div",{children:[t.jsx("h1",{className:"page-title",children:"Score"}),t.jsx(L,{title:"Score"}),t.jsx(E,{},e==null?void 0:e._id)]})};export{F as default};
