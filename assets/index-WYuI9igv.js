import{j as e,a as s,K as f,P as b}from"./index-2Oe2_-Zx.js";import{T as L}from"./index-CNcaDZXv.js";import{f as F}from"./feedback-service-DfLzhuub.js";import"./index-DZOS5Gyj.js";import"./index-C-w1HBdO.js";const N=[{id:"name",align:"left",label:"Name",component:({row:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.name}),e.jsx("p",{children:t.email})]})},{id:"subject",align:"left",label:"Subject",width:"70%",component:({row:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.subject}),e.jsx("p",{children:t.description})]})}],C=()=>{const[t,d]=s.useState([]),[l,u]=s.useState(null),[p,m]=s.useState(),[r,a]=s.useState(),[g,S]=s.useState(),[i,h]=s.useState({pageNumber:0,pageSize:10});s.useEffect(()=>{r!=="LOADING"&&(a("LOADING"),F.getList({isShowLoader:!1,data:{options:{startAtDoc:l,pageSize:i.pageSize}}}).then(({data:n,lastDoc:o,total:c,isFinished:x})=>{typeof c=="number"&&m(c),S(x),d(f.uniqBy([...t,...n],"id")),u(o),a("SUCCESS")},()=>{a("ERROR")}))},[i.pageSize,i.pageNumber]);const j=({pageNumber:n,pageSize:o})=>{h({pageNumber:n,pageSize:o})};return e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Feedback List"}),e.jsx(b,{title:"Feedback List"}),e.jsx(L,{isUseShowMore:!0,isHidePagination:g,isLoading:r==="LOADING",data:t,columns:N,isServerSide:!0,totalCount:p,onPaginationChange:j})]})};export{C as default};
