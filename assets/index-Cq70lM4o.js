import{j as e,a as s,v as x}from"./index-MTguEcWo.js";import{T as b}from"./index-B2Bblrax.js";import{f as L}from"./feedback-service-B8qsK88X.js";import"./index-DmzHd71n.js";import"./index-x4ku5JQb.js";import"./index-CYzTnlUS.js";const F=[{id:"name",align:"left",label:"Name",component:({row:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.name}),e.jsx("p",{children:t.email})]})},{id:"subject",align:"left",label:"Subject",width:"70%",component:({row:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.subject}),e.jsx("p",{children:t.description})]})}],D=()=>{const[t,l]=s.useState([]),[d,u]=s.useState(null),[p,m]=s.useState(),[a,i]=s.useState(),[S,g]=s.useState(),[n,h]=s.useState({pageNumber:0,pageSize:10});s.useEffect(()=>{a!=="LOADING"&&(i("LOADING"),L.getList({isShowLoader:!1,data:{options:{startAtDoc:d,pageSize:n.pageSize}}}).then(({data:o,lastDoc:r,total:c,isFinished:j})=>{typeof c=="number"&&m(c),g(j),l(x.uniqBy([...t,...o],"id")),u(r),i("SUCCESS")},()=>{i("ERROR")}))},[n.pageSize,n.pageNumber]);const f=({pageNumber:o,pageSize:r})=>{h({pageNumber:o,pageSize:r})};return console.log("requestStatus....",a),e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Feedback List"}),e.jsx(b,{isUseShowMore:!0,isHidePagination:S,isLoading:a==="LOADING",data:t,columns:F,isServerSide:!0,totalCount:p,onPaginationChange:f})]})};export{D as default};
